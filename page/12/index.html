<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Matrix207&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Matrix207's Blog">
<meta property="og:url" content="http://matrix207.github.com/page/12/index.html">
<meta property="og:site_name" content="Matrix207's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Matrix207's Blog">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="Matrix207&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Matrix207&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://matrix207.github.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-networkstack-internet-protocol-suite" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/07/29/networkstack-internet-protocol-suite/" class="article-date">
  <time datetime="2013-07-28T16:00:00.000Z" itemprop="datePublished">2013-07-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/network/">network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/07/29/networkstack-internet-protocol-suite/">NetworkStack Internet protocol suite</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-introduce"><a href="#1-Introduce" class="headerlink" title="1. Introduce"></a>1. Introduce</h3><p>The Internet protocol suite and the layered protocol stack design were in use<br>before the OSI model was established. Since then, the TCP/IP model has been<br>compared with the OSI model in books and classrooms, which often results in<br>confusion because the two models use different assumptions and goals, including<br>the relative importance of strict layering.</p>
<h3 id="2-tcpip-network-model"><a href="#2-TCP-IP-Network-model" class="headerlink" title="2. TCP/IP Network model"></a>2. TCP/IP Network model</h3><p>Layers in the internet protocol suite:( a four-layer model )  </p>
<pre><code>+------------------------+                         +--------+
|    Application layer   |                         |  Data  |
+------------------------+                         +--------+
            |
  +--------------------+                   +-------+--------+
  |   Transport layer  |                   |TCP/IP |  Data  |
  +--------------------+                   +-------+--------+
            |
  +-------------------+              +-----+-------+--------+
  |   Internet layer  |              | IP  |TCP/IP |  Data  |
  +-------------------+              +-----+-------+--------+
            |
    +---------------+       +--------+-----+-------+--------+
    |   Link layer  |       | Header | IP  |TCP/IP |  Data  |
    +---------------+       +--------+-----+-------+--------+
</code></pre><h3 id="protocol-in-layers"><a href="#Protocol-in-layers" class="headerlink" title="Protocol in layers"></a>Protocol in layers</h3><p>Application layer</p>
<pre><code>DHCP
DHCPv6
DNS
FTP
HTTP*
IMAP
IRC
LDAP
MGCP
NNTP
BGP
NTP
POP
RPC
RTP
RTSP
RIP
SIP
SMTP
SNMP*
SOCKS
SSH
Telnet
TLS/SSL
XMPP
</code></pre><p>Transport layer</p>
<pre><code>TCP*
UDP*
DCCP
SCTP
RSVP
</code></pre><p>Internet layer</p>
<pre><code>IP(IPv4,IPv6)*
ICMP*
ICMPv6
ECN
IGMP
IPsec
</code></pre><p>Link layer</p>
<pre><code>ARP/InARP*
NDP
OSPF
Tunnels(L2TP)
PPP*
Media access control(Ethernet/DSL/ISDN/FDDI)
</code></pre><h3 id="3-protocol-format"><a href="#3-Protocol-Format" class="headerlink" title="3. Protocol Format"></a>3. Protocol Format</h3><p>IP - <a href="http://www.ietf.org/rfc/rfc791.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc791.txt</a>, page 11<br>TCP - <a href="http://www.ietf.org/rfc/rfc793.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc793.txt</a>, page 15<br>UDP - <a href="http://www.ietf.org/rfc/rfc768.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc768.txt</a>, page 1  </p>
<pre><code>0                   1                   2                   3   
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|  IHL  |Type of Service|          Total Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|      Fragment Offset    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Time to Live |    Protocol   |         Header Checksum       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Source Address                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Destination Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Options                    |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Example Internet Datagram Header

0                   1                   2                   3   
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Source Port          |       Destination Port        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Sequence Number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Acknowledgment Number                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Data |           |U|A|P|R|S|F|                               |
| Offset| Reserved  |R|C|S|S|Y|I|            Window             |
|       |           |G|K|H|T|N|N|                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           Checksum            |         Urgent Pointer        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Options                    |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             data                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                        TCP Header Format

0      7 8     15 16    23 24    31  
+--------+--------+--------+--------+ 
|     Source      |   Destination   | 
|      Port       |      Port       | 
+--------+--------+--------+--------+ 
|                 |                 | 
|     Length      |    Checksum     | 
+--------+--------+--------+--------+ 
|                                     
|          data octets ...            
+---------------- ...                 

     User Datagram Header Format
</code></pre><h3 id="4-protocol-links"><a href="#4-Protocol-links" class="headerlink" title="4. Protocol links"></a>4. Protocol links</h3><p>IP - Internet Protocol<br><a href="http://www.ietf.org/rfc/rfc791.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc791.txt</a></p>
<p>ARP - Address Resolution Protocol<br><a href="http://www.ietf.org/rfc/rfc826.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc826.txt</a><br><a href="http://en.wikipedia.org/wiki/Arp_protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Arp_protocol</a></p>
<p>ICMP - Internet Control Message Protoco<br><a href="http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol</a><br><a href="http://www.ietf.org/rfc/rfc792.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc792.txt</a></p>
<p>TCP - Transmission Control Protocol<br><a href="http://en.wikipedia.org/wiki/Transmission_Control_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Transmission_Control_Protocol</a><br><a href="http://www.ietf.org/rfc/rfc793.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc793.txt</a></p>
<p>SMTP - Simple Mail Transfer Protocol<br><a href="http://www.ietf.org/rfc/rfc821.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc821.txt</a></p>
<p>FTP - File Transfer Protocol<br><a href="http://www.ietf.org/rfc/rfc958.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc958.txt</a></p>
<p>SNMP - Simple Network Management Protocol<br><a href="http://www.ietf.org/rfc/rfc1067.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc1067.txt</a></p>
<p>IGMP - Internet Group Management Protocol<br><a href="http://www.ietf.org/rfc/rfc3376.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc3376.txt</a><br><a href="http://en.wikipedia.org/wiki/Internet_Group_Management_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Internet_Group_Management_Protocol</a></p>
<p>UDP - User Datagram Protocol<br><a href="http://en.wikipedia.org/wiki/User_Datagram_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/User_Datagram_Protocol</a><br><a href="http://www.ietf.org/rfc/rfc768.txt" target="_blank" rel="external">http://www.ietf.org/rfc/rfc768.txt</a></p>
<p>PPP - Point to point protocol<br><a href="http://en.wikipedia.org/wiki/Point-to-point_protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Point-to-point_protocol</a><br><a href="http://tools.ietf.org/html/rfc1661" target="_blank" rel="external">http://tools.ietf.org/html/rfc1661</a></p>
<p>SMTP - Simple Mail Transfer Protocol<br><a href="http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol</a>  </p>
<p>HTTP - Hypertext Transfer Protocol<br><a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="external">http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol</a>  </p>
<h3 id="5-reference"><a href="#5-Reference" class="headerlink" title="5. Reference"></a>5. Reference</h3><ul>
<li><a href="http://en.wikipedia.org/wiki/Internet_protocol_suite" target="_blank" rel="external">Internet protocol suite</a></li>
<li><a href="http://zh.wikipedia.org/wiki/TCP/IP&#x534F;&#x8BAE;" target="_blank" rel="external">IP/IP&#x534F;&#x8BAE;</a></li>
<li><a href="http://www.linux-tutorial.info/modules.php?name=MContent&amp;obj=page&amp;pageid=142" target="_blank" rel="external">TCP-IP</a></li>
<li><a href="http://www.eventhelix.com/RealtimeMantra/Networking/#IP_-_Internet_Protocol" target="_blank" rel="external">TCP/IP and IMS Sequence Diagrams</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/07/29/networkstack-internet-protocol-suite/" data-id="cineh9ou60077oxizx74dmjjt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/">network</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mac-address-swap-with-two-network-cards" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/07/19/mac-address-swap-with-two-network-cards/" class="article-date">
  <time datetime="2013-07-18T16:00:00.000Z" itemprop="datePublished">2013-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/network/">network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/07/19/mac-address-swap-with-two-network-cards/">MAC address swap with two network cards</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-problem"><a href="#1-Problem" class="headerlink" title="1. Problem"></a>1. Problem</h3><h4 id="11-when-network-setting-is-normal-found-that-mac-address-was-swapped"><a href="#1-1-When-network-setting-is-normal-found-that-MAC-address-was-swapped" class="headerlink" title="1.1 When network setting is normal, found that MAC address was swapped."></a>1.1 When network setting is normal, found that MAC address was swapped.</h4><p>eth0 &#x2013;&gt; 00:25:90:70:51:f1<br>eth1 &#x2013;&gt; 00:25:90:70:51:f0</p>
<pre><code>[root@localhost ~]# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.230/24 brd 172.16.110.255 scope global eth0
    inet6 fe80::225:90ff:fe70:51f1/64 scope link 
       valid_lft forever preferred_lft forever
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::225:90ff:fe70:51f0/64 scope link 
       valid_lft forever preferred_lft forever
</code></pre><h4 id="12-but-when-made-a-bind-to-the-two-interface-it-was-correct"><a href="#1-2-But-when-made-a-bind-to-the-two-interface-it-was-correct" class="headerlink" title="1.2 But when made a bind to the two interface, it was correct."></a>1.2 But when made a bind to the two interface, it was correct.</h4><pre><code>[root@localhost ~]# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master bond0 state UP qlen 1000
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
3: eth1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master bond0 state UP qlen 1000
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
4: bond0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP 
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.230/24 brd 172.16.110.255 scope global bond0
    inet6 fe80::225:90ff:fe70:51f1/64 scope link 
       valid_lft forever preferred_lft forever
</code></pre><p><strong>What had done when making the bind?</strong></p>
<p>Use command <code>dmesg</code>, we found that if there were words like &#x201C;udev: renamed XXX to XXX&#x201D;,<br>the MAC addree was correct matched to the interface. If not it was error.</p>
<p>before changed:</p>
<pre><code>[root@localhost ~]# dmesg | grep &quot;PCI Express&quot;
pciehp: PCI Express Hot Plug Controller Driver version: 0.4
e1000e 0000:00:19.0: eth0: (PCI Express:2.5GT/s:Width x1) 00:25:90:70:51:f1
e1000e 0000:04:00.0: eth1: (PCI Express:2.5GT/s:Width x1) 00:25:90:70:51:f0

[root@localhost ~]# dmesg | grep udev
udev: starting version 147
udev: starting version 147

[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=&quot;eth0&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F1&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;151c6203-2172-41b1-bd58-9bf03a2731e7&quot;

[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE=&quot;eth1&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F0&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;a677dbc6-144a-455b-bcd3-6d8439560516&quot;

[root@localhost ~]# cat /etc/udev/rules.d/70-persistent-net.rules 
# This file was automatically generated by the /lib/udev/write_net_rules
# program, run by the persistent-net-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and change only the value of the NAME= key.

# PCI device 0x8086:0x10d3 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f0&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth1&quot;

# PCI device 0x8086:0x1502 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f1&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;
</code></pre><p>after changed:</p>
<pre><code>[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=&quot;eth0&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F0&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;a677dbc6-144a-455b-bcd3-6d8439560516&quot;
[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE=&quot;eth1&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F1&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;151c6203-2172-41b1-bd58-9bf03a2731e7&quot;
</code></pre><p>then reboot system.</p>
<pre><code>[root@localhost ~]# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::225:90ff:fe70:51f1/64 scope link 
       valid_lft forever preferred_lft forever
3: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.230/24 scope global eth0
    inet6 fe80::225:90ff:fe70:51f0/64 scope link 
       valid_lft forever preferred_lft forever

[root@localhost ~]# dmesg | grep udev
udev: starting version 147
udev: starting version 147
udev: renamed network interface eth0 to rename2
udev: renamed network interface eth1 to eth0
udev: renamed network interface rename2 to eth1

[root@localhost ~]# cat /etc/udev/rules.d/70-persistent-net.rules 
# This file was automatically generated by the /lib/udev/write_net_rules
# program, run by the persistent-net-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and change only the value of the NAME= key.

# PCI device 0x8086:0x10d3 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f0&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth1&quot;

# PCI device 0x8086:0x1502 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f1&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;

# PCI device 0x8086:0x1502 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f1&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth1&quot;

# PCI device 0x8086:0x10d3 (e1000e) (custom name provided by external tool)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;00:25:90:70:51:f0&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;

[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=&quot;eth0&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F0&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;a677dbc6-144a-455b-bcd3-6d8439560516&quot;
[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE=&quot;eth1&quot;
BOOTPROTO=&quot;dhcp&quot;
HWADDR=&quot;00:25:90:70:51:F1&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;151c6203-2172-41b1-bd58-9bf03a2731e7&quot;
[root@localhost ~]#
</code></pre><h4 id="13-make-a-bind-to-the-network-mac-is-correct-also"><a href="#1-3-make-a-bind-to-the-network-MAC-is-correct-also" class="headerlink" title="1.3 make a bind to the network, MAC is correct also."></a>1.3 make a bind to the network, MAC is correct also.</h4><pre><code>[root@localhost ~]# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master bond0 state UP qlen 1000
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
3: eth0: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master bond0 state UP qlen 1000
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
4: bond0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP 
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.230/24 brd 172.16.110.255 scope global bond0
    inet6 fe80::225:90ff:fe70:51f0/64 scope link 
       valid_lft forever preferred_lft forever
[root@localhost ~]# 
</code></pre><p>delete the bind, still ok.</p>
<h4 id="14-how-for-group-ip"><a href="#1-4-How-for-group-ip" class="headerlink" title="1.4 How for group ip?"></a>1.4 How for group ip?</h4><p>group set to 172.16.110.233<br>eth0 set to 172.16.110.230<br>eth1 set to 172.16.110.231<br>from below we found the MAC was ok as hoped.</p>
<pre><code>[root@localhost ~]# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 16436 qdisc noqueue state UNKNOWN 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f1 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.231/24 scope global eth1
    inet 172.16.110.233/24 scope global secondary eth1
    inet6 fe80::225:90ff:fe70:51f1/64 scope link 
       valid_lft forever preferred_lft forever
3: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:25:90:70:51:f0 brd ff:ff:ff:ff:ff:ff
    inet 172.16.110.230/24 scope global eth0
    inet 172.16.110.233/24 scope global secondary eth0
    inet6 fe80::225:90ff:fe70:51f0/64 scope link 
       valid_lft forever preferred_lft forever
</code></pre><h3 id="2-the-steps-to-modify-mac-of-eth-look-like-as-below"><a href="#2-The-steps-to-modify-MAC-of-eth-look-like-as-below" class="headerlink" title="2. The steps to modify MAC of eth* look like as below"></a>2. The steps to modify MAC of eth* look like as below</h3><ol>
<li>OS boot </li>
<li>udev start </li>
<li>e1000e start, get eth* and MAC </li>
<li>check /etc/sysconfig/network-scripts/ifcfg-XXX, call shell script<br>/lib/udev/write_net_rules to generate rule file to /etc/udev/rules.d/70-persistent-net.rules<br>if MAC was not match with what got from e1000e (view udev source, you wil find udev)</li>
<li>udev rename eth* if there have &#x201C;add&#x201D; action in rule file /etc/udev/rules.d/70-persistent-net.rules</li>
</ol>
<h4 id="21-check-libudevwrite_net_rules"><a href="#2-1-Check-lib-udev-write-net-rules" class="headerlink" title="2.1 Check /lib/udev/write_net_rules"></a>2.1 Check /lib/udev/write_net_rules</h4><pre><code>36 RULES_FILE=&apos;/etc/udev/rules.d/70-persistent-net.rules&apos;
37 
38 . /lib/udev/rule_generator.functions
39 
40 find_all_ifcfg() {
41     local links=$1
42     local __sed_discard_ignored_files=&apos;/\(~\|\.bak\|\.orig\|\.rpmnew\|\.rpmorig\|\.rpmsave\)$/d&apos;
43 
44     files=$(echo /etc/sysconfig/network-scripts/ifcfg-* \
45         | LC_ALL=C sed -e &quot;$__sed_discard_ignored_files&quot;)
46     for i in $files; do
47         (
48             . $i
49             [ -n &quot;$HWADDR&quot; ] &amp;&amp; [ &quot;${links%%[ \[\]0-9]*}&quot; = &quot;${DEVICE%%[ \[\]0-9]*}&quot; ] &amp;&amp; echo $DEVICE
50         )
51     done
52 }

70 write_rule() {
71         local match=&quot;$1&quot;
72         local name=&quot;$2&quot;
73         local comment=&quot;$3&quot;
74 
75         {
76         if [ &quot;$PRINT_HEADER&quot; ]; then
77                 PRINT_HEADER=
78                 echo &quot;# This file was automatically generated by the $0&quot;
79                 echo &quot;# program, run by the persistent-net-generator.rules rules file.&quot;
80                 echo &quot;#&quot;
81                 echo &quot;# You can modify it, as long as you keep each rule on a single&quot;
82                 echo &quot;# line, and change only the value of the NAME= key.&quot;
83         fi
84 
85         echo &quot;&quot;
86         [ &quot;$comment&quot; ] &amp;&amp; echo &quot;# $comment&quot;
87         echo &quot;SUBSYSTEM==\&quot;net\&quot;, ACTION==\&quot;add\&quot;$match, NAME=\&quot;$name\&quot;&quot;
88         } &gt;&gt; $RULES_FILE
89 }

153 write_rule &quot;$match&quot; &quot;$INTERFACE&quot; &quot;$COMMENT&quot;
</code></pre><h4 id="21-check-udev-source"><a href="#2-1-Check-udev-source" class="headerlink" title="2.1 Check udev source"></a>2.1 Check udev source</h4><p>search the string we found in dmesg:</p>
<pre><code>[dennis@localhost udev]$ pwd
/home/dennis/Downloads/udev-174/udev
[dennis@localhost udev]$ grep -r -i --include &quot;*.c&quot; &quot;renamed&quot; .
./udev-rules.c:    /* handle device, renamed by external tool, returning new path */
./udev-event.c:    fprintf(f, &quot;&lt;30&gt;udevd[%u]: renamed network interface %s to %s\n&quot;,
./udev-event.c:                info(event-&gt;udev, &quot;renamed netif to &apos;%s&apos;\n&quot;, event-&gt;name);
[dennis@localhost udev]$ gvim udev-event.c 

static void rename_netif_kernel_log(struct ifreq ifr)
{
    int klog;
    FILE *f;

    klog = open(&quot;/dev/kmsg&quot;, O_WRONLY);
    if (klog &lt; 0)
        return;

    f = fdopen(klog, &quot;w&quot;);
    if (f == NULL) {
        close(klog);
        return;
    }

    fprintf(f, &quot;&lt;30&gt;udevd[%u]: renamed network interface %s to %s\n&quot;,
        getpid(), ifr.ifr_name, ifr.ifr_newname);
    fclose(f);
}
</code></pre><p>Because udev write log to /dev/kmsg, so we can got output like below:</p>
<pre><code>[root@localhost ~]# dmesg | grep udev
udev: starting version 147
udev: starting version 147
udev: renamed network interface eth0 to rename2
udev: renamed network interface eth1 to eth0
udev: renamed network interface rename2 to eth1
</code></pre><p>Continue tracking, found that <code>rename_netif_kernel_log</code> was called only by function: </p>
<pre><code>static int rename_netif(struct udev_event *event)
</code></pre><p>And who call <code>rename_netif</code>, the answer is only function: </p>
<pre><code>int udev_event_execute_rules(struct udev_event *event, struct udev_rules *rules, const sigset_t *sigmask)
</code></pre><p>From code segment from this function, we see:</p>
<pre><code>....
/* rename a new network interface, if needed */
if (udev_device_get_ifindex(dev) &gt; 0 &amp;&amp; strcmp(udev_device_get_action(dev), &quot;add&quot;) == 0 &amp;&amp;
    event-&gt;name != NULL &amp;&amp; strcmp(event-&gt;name, udev_device_get_sysname(dev)) != 0) {
    char syspath[UTIL_PATH_SIZE];
    char *pos;

    err = rename_netif(event);
....
</code></pre><p>from the name of function <code>udev_event_execute_rules</code> and cod segment, we can say,<br>udev rename ethXXX by the rules, where should have action like as &#x201C;add&#x201D;.</p>
<h4 id="22-check-e1000e-source-found-nothing"><a href="#2-2-Check-e1000e-source-found-nothing" class="headerlink" title="2.2 Check e1000e source, found nothing"></a>2.2 Check e1000e source, found nothing</h4><h4 id="23-check-dmesg-source-found-nothing"><a href="#2-3-Check-dmesg-source-found-nothing" class="headerlink" title="2.3 Check dmesg source, found nothing"></a>2.3 Check dmesg source, found nothing</h4><h4 id="24-check-system-config-network-source-found-nothing"><a href="#2-4-Check-system-config-network-source-found-nothing" class="headerlink" title="2.4 Check system-config-network source, found nothing"></a>2.4 Check system-config-network source, found nothing</h4><h3 id="3-how-to-fix"><a href="#3-How-to-fix" class="headerlink" title="3. How to fix"></a>3. How to fix</h3><p>Use this shell scripts to check MAC</p>
<pre><code>#!/bin/sh

# check MAC address, if not match the correct interface, fix it.
file_eth0=/etc/sysconfig/network-scripts/ifcfg-eth0
file_eth1=/etc/sysconfig/network-scripts/ifcfg-eth1

if [ -e $file_eth0 ] &amp;&amp; [ -e $file_eth1 ]; then 
    # get MAC and UUID
    MAC0=$(grep HWADDR $file_eth0 | awk -F&apos;&quot;&apos; &apos;{print $(NF-1)}&apos;)
    MAC1=$(grep HWADDR $file_eth1 | awk -F&apos;&quot;&apos; &apos;{print $(NF-1)}&apos;)
    UUID0=$(grep UUID  $file_eth0 | awk -F&apos;&quot;&apos; &apos;{print $(NF-1)}&apos;)
    UUID1=$(grep UUID  $file_eth1 | awk -F&apos;&quot;&apos; &apos;{print $(NF-1)}&apos;)

    if [ &quot;$MAC0&quot; != &quot;&quot; ] &amp;&amp; [ &quot;$MAC1&quot; != &quot;&quot; ]; then
        # compare MAC
        compare_flag=0
        compare_flag=`echo $MAC0 $MAC1 | awk &apos;$1&gt;$2 {print 1}&apos;`
        if [ &quot;$compare_flag&quot; == &quot;1&quot; ]; then
            # swap MAC and UUID
            sed -i &apos;s/&apos;$MAC0&apos;/&apos;$MAC1&apos;/g&apos; $file_eth0
            sed -i &apos;s/&apos;$MAC1&apos;/&apos;$MAC0&apos;/g&apos; $file_eth1
            if [ &quot;$UUID0&quot; != &quot;&quot; ] &amp;&amp; [ &quot;$UUID1&quot; != &quot;&quot; ]; then
                sed -i &apos;s/&apos;$UUID0&apos;/&apos;$UUID1&apos;/g&apos; $file_eth0
                sed -i &apos;s/&apos;$UUID1&apos;/&apos;$UUID0&apos;/g&apos; $file_eth1
            else
                sed -i &apos;/UUID/d&apos; $file_eth0
                [ &quot;$UUID1&quot; != &quot;&quot; ] &amp;&amp; echo &quot;UUID=\&quot;$UUID1\&quot;&quot; &gt;&gt; $file_eth0
                sed -i &apos;/UUID/d&apos; $file_eth1
                [ &quot;$UUID0&quot; != &quot;&quot; ] &amp;&amp; echo &quot;UUID=\&quot;$UUID0\&quot;&quot; &gt;&gt; $file_eth1
            fi
        fi
    fi
fi
</code></pre><h3 id="4-question"><a href="#4-Question" class="headerlink" title="4. Question"></a>4. Question</h3><ol>
<li>/etc/sysconfig/network-scripts/ifcfg-XXX were generated by who? system-config-network?</li>
</ol>
<h3 id="5-reference"><a href="#5-Reference" class="headerlink" title="5. Reference"></a>5. Reference</h3><ul>
<li><a href="http://www.linuxfromscratch.org/lfs/view/development/chapter07/network.html" target="_blank" rel="external">7.2. General Network Configuration</a></li>
<li><a href="http://muzso.hu/2012/10/29/how-to-regenerate-the-etc-udev-rules.d-70-persistent-net.rules-file-on-debian-ubuntu" target="_blank" rel="external">How to regenerate the /etc/udev/rules.d/70-persistent-net.rules file on Debian/Ubuntu</a></li>
<li><a href="http://blog.csdn.net/gangban_lau/article/details/7209123" target="_blank" rel="external">udev is renaming my ethernet devices</a></li>
<li><a href="http://www.centos.org/docs/4/html/rhel-rg-en-4/s1-networkscripts-interfaces.html" target="_blank" rel="external">Red Hat Enterprise Linux 4: Reference Guide</a></li>
<li><a href="http://fedora.12.x6.nabble.com/Generating-ifcfg-eth0-from-scratch-td2280845.html" target="_blank" rel="external">Generating ifcfg-eth0 from scratch</a></li>
<li><a href="https://lists.fedoraproject.org/pipermail/users/2011-May/396591.html" target="_blank" rel="external">Generating ifcfg-eth0 from scratch</a></li>
<li><a href="http://brennan.id.au/04-Network_Configuration.html" target="_blank" rel="external">Chapter 4 - Network Configuration</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/07/19/mac-address-swap-with-two-network-cards/" data-id="cineh9ou40074oxizbpkz7ey1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/">network</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-steven-jobs-stanford-commencement-address-june-2005" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/07/16/steven-jobs-stanford-commencement-address-june-2005/" class="article-date">
  <time datetime="2013-07-15T16:00:00.000Z" itemprop="datePublished">2013-07-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/others/">others</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/07/16/steven-jobs-stanford-commencement-address-june-2005/">Steven Jobs: Stanford commencement address, June 2005</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>From <a href="http://english.koolearn.com/20111008/478099.html" target="_blank" rel="external">http://english.koolearn.com/20111008/478099.html</a></p>
<p>This is the text of the Commencement address by Steven Jobs, CEO of Apple Computer and of Pixar Animation Studios, delivered on June 12, 2005.</p>
<p>I am honored to be with you today at your commencement from one of the finest universities in the world. I never graduated from college. Truth be told, I never graduated from college. This is the closest I&#x2019;ve ever gotten to a college graduation. Today I want to tell you three stories from my life. That&#x2019;s it. No big deal. Just three stories.</p>
<h3 id="the-first-story-is-about-connecting-the-dots"><a href="#The-first-story-is-about-connecting-the-dots" class="headerlink" title="The first story is about connecting the dots."></a>The first story is about connecting the dots.</h3><p>I dropped out of Reed College after the first 6 months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I drop out?</p>
<p>It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife. Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: &#x201C;We have an unexpected baby boy; do you want hime?&#x201D; They said: &#x201C;Of course.&#x201D; My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.</p>
<p>And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parents&#x2019; savings were being spent on my college tuition. After six months, I couldn&#x2019;t see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me figure it out. And here I was spending add of the money my parents had saved their entire life. So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didn&#x2019;t interest me, and begin dropping in on the ones that looked interesting.</p>
<p>It wasn&#x2019;t all romantic. I didn&#x2019;t have a dorm room, so I slept on the floor in friends&#x2019; rooms. I returned coke bottles for the 5 cent; deposites to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on. Let me give you one example.</p>
<p>Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didn&#x2019;t have to take the normal classes. I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science can&#x2019;t capture and I found it fascinating.</p>
<p>None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac. It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally space fonts. And since Windows just copied the Mac, its likely that no personal computer would have them. If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.</p>
<p>Again, you can&#x2019;t connect the dots looking forward; you can only connect them looking backwards. So you have to trust that the dots will somehow connect in your future. You have to trust in something &#x2013; your gut, destiny, life, karma, wahtever. This approach has never let me down, and it has made all the difference in my life.</p>
<h3 id="my-second-story-is-about-love-and-loss"><a href="#My-second-story-is-about-love-and-loss" class="headerlink" title="My second story is about love and loss."></a>My second story is about love and loss.</h3><p>I was lucky &#x2013; I found what I loved to do early in life. Woz and I started Apple in my parents garage when I was 20. We worked hard, and in 10 years Apple had grown from just the two of us in a garage into a $2 billion company with over 4000 employees. We had just released out finest creation &#x2013; the Macintosh &#x2013; a year earlier, and I had just turned 30. And then I got fired. How can you get fired from a company you started? Well, as Apple grew we hired someone who I thought was very talented to run the company with me, and for the first year or so things went well. But then our visions of the future began to diverge and eventually we had a falling out. When we did, our Board of Directors sided with him. So at 30 I was out. And very publicly out. What had been the focus of my entire adult life was gone, and it was devastating.</p>
<p>I really didn&#x2019;t know what to do for a few months. I felt that I had let the previous generation of entrepreneurs down - that I had dropped the baton as it was being passed to me. I met with David Packard and Bob Noyce and tried to apologize for screwing up so badly. I was a very public failure, and I even thought about running away from the valley. But something slowly began to dawn on me &#x2013; I still loved what I did. The turn of events at Apple had not changed that one bit. I had been rejected, but I was still in love. And so I decided to start over.</p>
<p>I didn&#x2019;t seen it then, but it turned out that getting fired from Apple was the best thing that could have ever happened to me. The heaviness of being successful was replaced by the lightness of being a beginner again, less sure about everything. It freed me to enter one of the most creative periods of my life.</p>
<p>During the next five years, I started a company named NeXT, another company named Pixar, and fell in love with an amazing woman who would become my wife. Pixar went on to create the worlds first computer animated feature film, Toy Story, and is now the most successful animation studio in the world. In a remarkable turn of events, Apple bought NeXT, I returned to Apple, and the technology we developed at NeXT is at the heart of Apple&#x2019;s current renaissance. And Laurene and I have a wonderful family together.</p>
<p>I&#x2019;m pretty sure none of this would have happened if I hadn&#x2019;t been fired from Apple. It was awful tasting medicine, but I guess the patient needed it.</p>
<p>Sometimes life hits you in the head with a brick. Don&#x2019;t lose faith. I&#x2019;m convinced that the only thing that kept me going was that I loved what I did. You&#x2019;ve got to find what you love. And that is as true for you work as it is for your lovers. Your work is going to fill a large part of your life, and the only way to be truely satisfied is to do what you believe is great work. And the only way to do great work is to love what you do. If you haven&#x2019;t found it yet, keep looking. Don&#x2019;t settle. As with all matters of the heart, you&#x2019;ll know when you find it. And, like any great relationship, it just gets better and better as the years roll on. So keep looking until you find it. Don&#x2019;t settle.</p>
<h3 id="my-third-story-is-about-death"><a href="#My-third-story-is-about-death" class="headerlink" title="My third story is about death"></a>My third story is about death</h3><p>When I was 17, I read a quote that went something like: &#x201C;If you live each day as if it was your last, someday you&#x2019;ll most certainly be right.&#x201D; It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: &#x201C;If today were the last day of my life, would I want to do what I am about to do today?&#x201D; And whenever the answer has been &#x201C;No&#x201D; for too many days in a row, I know I need to change something.</p>
<p>Remembering that I&#x2019;ll be dead soon is the most important tool I&#x2019;ve ever encountered to help me make the big choices in life. Because almost everything &#x2013; all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important. Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</p>
<p>About a year ago I was diagnosed with cancer. I had a scan at 7:30 in the morning, and it clearly showed a tumor on my pancreas. I didn&#x2019;t even know what a pancreas was. The doctors told me this was almost certainly a type of cancer that is incurable, and what I should expect to live no longer than three to six months. My doctor advised me to go home and get my affairs in order, which is doctor&#x2019;s code for  prepare to die. It means to try to tell your kids everything you thought you&#x2019;d had the next 10 years to tell them in just a few months. It means to make sure everything is buttoned up so that it will be easy as possible for your family. It means to say your goodbyes.</p>
<p>I lived with that diagnosis all day. Later that evening I had a biopsy, where they stuck anendoscope down my throat, through my stomach and into my intestines, put a needle into my pancreas and got a few cells from the tumor. I was sedated, but my wife, who  was there, told me that when they viewed the cells under a microscope the doctors started crying because it turned out to be a very rare from of pancreatic cancer that is curable with surgery. I had surgery and I&#x2019;m fine now.</p>
<p>This was the closet I&#x2019;ve been to facing death, and I hope its the closet I get for a few more decades. Having lived through it, I can now say this to you with a bit more certainty than when death was a useful but purely intellectual concept:</p>
<p>No one wants to die. Even people who want to go to heaven don&#x2019;t want to die to get there. And yet death is the destination we all share. No one has ever escaped it. And that is as it should be, because Death is very likely the single best invention of Life. It is Life&#x2019;s change agent. It clears out the old to make way for the new. Right now the new is you, but someday not too long from now, you will gradually become the old and be cleared away. Sorry to be so dramatic, but it is quite true.</p>
<p>Your tiems is limited, so don&#x2019;t waste it living someone else&#x2019;s life. Don&#x2019;t be trapped by dogma &#x2013; which is living with the results of other people&#x2019;s thinking. Don&#x2019;t let the noise of other&#x2019;s opinions drown out your own inner voice. And most important, have the courage to follow your heart and intuition. They somehow already know what you truly want to become. Everything else is secondary.</p>
<p>When I was young, there was an amazing publication called The Whole Earth Catalog, which was one of the bibles of my generation. It was created by a fellow named Stewart Brand not far from here in Menlo Park, and he brought it to life with his poetic touch. This was in the late 1960&#x2019;s, before personal computers and desktop publishing, so it was all made with typewriters, scissors, and polaroid cameras. It was sort of like Goolge in paperback form, 35 years before Google came along: it was idealistic, and overflowing with neat tools and great notions.</p>
<p>Stewart and his team  put out several issues of the Whole Earth Catalog, and then when it had run its course, they put out a final issue. It was the mid-1970s, and I was your age. On the back cover of their final issue was photograph of an early morning country road, the kind you might find yourself hitchhiking on if you were so adventurous. Beneath it were the words: &#x201C;Stay Hungry. Stay Foolish.&#x201D; It was their farewell message as they signed off. Stay Hungry. Stay Foolish. And I have always wished that for myself. And now, as your graduate to begin anew, I wish that for you.</p>
<p>Stay Hungry. Stay Foolish.</p>
<p>Thank you all very much.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/07/16/steven-jobs-stanford-commencement-address-june-2005/" data-id="cineh9ou30072oxizxcerahjn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-novels-three-peaks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/07/11/novels-three-peaks/" class="article-date">
  <time datetime="2013-07-10T16:00:00.000Z" itemprop="datePublished">2013-07-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/others/">others</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/07/11/novels-three-peaks/">novels Three Peaks</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>From <http: free-online-novels.com="" books="" three="" peaks="" first="" edition="" web="" v1_0="" 2012.pdf=""></http:></p>
<p>#Part One </p>
<p>#Everest</p>
<p>##Chapter One </p>
<p>Just outside of Namche Bazaar, Nepal</p>
<p>present day </p>
<p>Sunita was breathing hard.</p>
<p>Not good. The air up here made one light-headed. Nepal had eight of the world&#x2019;s ten tallest mountain peaks, but right now, Sunita&#x2019;s thoughts were a lot higher.</p>
<p>&#x201C;Oh jesus!&#x201D; she cried, as she kept moving along the narrow path. &#x201C;Save me! Save me!&#x201D;</p>
<p>Near breathless, she repeated it in her heart rather than out loud.</p>
<p>If the Maoist Army caught up with her, she could be executed for being an American spy. She should know. She used to be a Lance Corporal in the army. As for being an American spy, her only crime was to have been caught reading a Christian pamphlet that one of her fellow officers had given her.</p>
<p>It told the story of a man who had lived and then died &#x2026; and then lived again. She had read it through several times. The little pamphlet had now been lost in flight. Which was a shame because she would have liked to know more.</p>
<p>At least there was one person she knew who could tell her more. </p>
<p>But her immediate objective was to survive.</p>
<p>&#x201C;On, Jesus!&#x201D; she cried. It was more of a whisper. &#x201C;Save me!&#x201D;</p>
<p>Joliet, Illinois</p>
<p>present day </p>
<p>&#x201C;With awesome deeds you answer us with righteousness, God our salvation, the hope of all the ends of the earth and of the farthest seas.&#x201D; Chris surveyed his congregation. The knew this scripture by heart. It was his signature scripture. &#x201C;Who by his power formed the mountains and being armed with strength &#x2026;&#x201D;</p>
<p>There, now they could all relax. His sermon had included a reference to mountain. He continued reading Psalm 65, but even his own mind was wandering.</p>
<p>As a self-centred, outspoken  25-year-old, he had climbed Mount Everest.</p>
<p>Unfortunately, he wasn&#x2019;t the first person to do so, and even though the achievement was commendable compared to what most people did in their lifetimes, he wasn&#x2019;t exactly overwhelmed with offers from cereal companies to feature his face on their boxes of wheatie squares.</p>
<p>But a local church had approached him.</p>
<p>Would he be interested in sharing his experience with their youth group? No scripture references necessary. The youth pastor would have a few things to say about God and mountains and then Chris could go ahead and speak about Everest.</p>
<p>For lack of anything better to do, he had accepted.</p>
<p>That had been ten years ago. Since then, he had worked his way up from becoming a part-time assistant youth pastor, to a full-time assistant youth pastor, to a full-time youth pastor, and now, to a full-time assistant pastor.</p>
<p>And it was only a matter of time before he was the pastor. </p>
<p>Everyone thought of it as Chris&#x2019;s church. He always made sure to include a scriptural reference to mountains, an admonition to scale seemingly impossible problems with perseverance, and a few anecdotes about his own climb (granted, he often had to adjust them slightly to suit the message). In fact, out on the signboard of the community church was a mountain peak beside its name. That had been added when he had built up the youth program from an apathetic twenty teenagers to an enthusiastic two hundred, or so.</p>
<p>But it had become increasingly challenging to handle the youth group. They were easily inspired. They wanted to climb mountains. The greatest difficulty for Chris was to take it from the abstract to the concrete. Climb what mountain? He had never come up with a good answer. He had found it easier to talk to the adults. The adults, he found, didn&#x2019;t want to climb any mountains. Metaphorically, the seemed more inclined to seek out a bypass, to find the path of least exertion.</p>
<p>&#x201C;The kid want to mission trip,&#x201D; said Danny, comming into Chris&#x2019;s office and sitting down. &#x201C;All the big churches do it and we&#x2019;ve got the youth for it.&#x201D;</p>
<p>Chris nodded, only half-listening. He was scrolling through his emails.</p>
<p>Danny, the pastor, was an energetic man in his mid-fifties. He made no secret of the fact that his heart was with missions. In fact, that was why Chris was so sure that he would be the pastor in short time. Danny would probably turn into a full-time missionary in the near future. Chris wouldn&#x2019;t be surprised if he was just using the kids as an excuse for a trip to Bolivia, or some other mission field that he would lead them to.</p>
<p>&#x201C;We&#x2019;re thinking of Nepal,&#x201D; said Danny.</p>
<p>&#x201C;Nepal?&#x201D; Now Danny had Chris&#x2019;s attention. &#x201C;It&#x2019;s not exactly friendly to the gospel.&#x201D;</p>
<p>&#x201C;That&#x2019;s why the kids want to do it,&#x201D; said Danny. &#x201C;A group of them approached me and said they think it&#x2019;s what God wants them to do.&#x201D;</p>
<p>In his head, Chris disagreed. They had heard him speak more than once about his experience climbing Everest. Everest was in  Nepal. It wasn&#x2019;t God. It was just a natural outcome of being part of a church that made a mountain its logo.</p>
<p>&#x201C;Well,&#x201D; said Chris, his eyes straying back to his computer screen; despite that most of the emails were spam. &#x201C;All the best to them. I take it Randy will lead them.&#x201D;</p>
<p>Randy was the youth pastor, an enthusiastic man in his late twenties, recently married.</p>
<p>Danny shook his head.</p>
<p>&#x201C;Susan just found out she&#x2019;s pregnant.&#x201D; Susan was Randy&#x2019;s new wife. &#x201C;He won&#x2019;t be going anywhere for a while. Besides, the kids want you to lead it.&#x201D; Chris&#x2019;s eyes widened. Danny grinned. &#x201C;I think some of them are hoping you&#x2019;ll lead them on a little side trip up Everest.&#x201D;</p>
<p>&#x201C;That would be easier than a mission trip,&#x201D; said Chris. &#x201C;I don&#x2019;t know much about the place. I mean, I spent more time in base camp than I did in Kathmandu, but I remember a lot of temples and prayer wheels and things. And guys going around in colourful robes and there were these poles people put up with scarves on them. One of the guides told me the were prayers and the wind blew the requests up to heaven. Or something like that. To be honest, I didn&#x2019;t really pay attention.&#x201D;</p>
<p>&#x201C;I&#x2019;ve been doing a little reading on the topic, ever since the kids came to me,&#x201D; said Danny. &#x201C;From what I understand, the real difficulty is the Maoist army that runs the country. They came to power in 2008 and promised to establish a democratic republic. The country is predominantly Hindu, but the prayer wheels that you saw would have been part of the failth of the country&#x2019;s Buddhist minority, about 10%, as I recall. In any case, the Christians there face opposition from all sides.&#x201D;</p>
<p>&#x201C;Sounds fun,&#x201D; said Chris grimly. &#x201C;You avoid all that if you just go to climb the mountains.&#x201D;</p>
<p>Danny nodded.</p>
<p>&#x201C;I haven&#x2019;t told the kis this, but evangelism there is seriously frowned on. If the indigenous people do it, they could be fined or imprisoned. If foreigners do it, it&#x2019;s less severe, eviction from the country. But I think if some of the parents go online and start looking into it, they&#x2019;ll never let their kids out sof the country.&#x201D;</p>
<p>Chris was relieved.</p>
<p>This mission trip wouldn&#x2019;t get off the ground.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/07/11/novels-three-peaks/" data-id="cineh9ou20070oxiz49ui2oq0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-develepment" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/06/28/android-develepment/" class="article-date">
  <time datetime="2013-06-27T16:00:00.000Z" itemprop="datePublished">2013-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/others/">others</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/06/28/android-develepment/">android develepment</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##1. Introduce</p>
<p>##2. Download</p>
<h3 id="21-download-tools"><a href="#2-1-Download-Tools" class="headerlink" title="2.1 Download Tools"></a>2.1 Download Tools</h3><p>Download android SDK from <a href="http://developer.android.com/sdk/index.html" target="_blank" rel="external">http://developer.android.com/sdk/index.html</a>, ADT<br>Bundle is contain SDK and Eclipse, Linux 64-bit platform use<br><a href="http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20130522.zip" target="_blank" rel="external">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20130522.zip</a>, if just<br>want to download SDK only, download <a href="http://dl.google.com/android/android-sdk_r22.0.1-linux.tgz" target="_blank" rel="external">http://dl.google.com/android/android-sdk_r22.0.1-linux.tgz</a><br>for Linux 32 &amp; 64-bit, other platform please referent the download page instruction. </p>
<h3 id="22-setting-environment"><a href="#2-2-Setting-Environment" class="headerlink" title="2.2 Setting Environment"></a>2.2 Setting Environment</h3><p>Install android develep plugin:  </p>
<pre><code>https://dl-ssl.google.com/android/eclipse/
</code></pre><p>##3. Workflow</p>
<p>If you want to run you application on really device, you should read this page<br><a href="http://developer.android.com/tools/device.html" target="_blank" rel="external">http://developer.android.com/tools/device.html</a>.</p>
<p>##4. Create Your First Application</p>
<p>##5. Run sample</p>
<p>##6. Improve your skills</p>
<p>##7. Reference:  </p>
<ul>
<li><a href="http://developer.android.com/index.html" target="_blank" rel="external">Android Developers</a></li>
<li><a href="http://developer.android.com/training/basics/firstapp/index.html" target="_blank" rel="external">Build your</a></li>
<li><a href="http://fedoraproject.org/wiki/HOWTO_Setup_Android_Development" target="_blank" rel="external">HOWTO Setup Android Development</a></li>
<li><a href="http://www.isspy.com/fedora-13-&#x4E0B;&#x914D;&#x7F6E;android&#x5F00;&#x53D1;&#x73AF;&#x5883;/" target="_blank" rel="external">Fedora 13 &#x4E0B;&#x914D;&#x7F6E;Android&#x5F00;&#x53D1;&#x73AF;&#x5883;</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/06/28/android-develepment/" data-id="cineh9ou1006woxizomrqk89k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-use-sg_ses" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/06/20/use-sg_ses/" class="article-date">
  <time datetime="2013-06-19T16:00:00.000Z" itemprop="datePublished">2013-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/storage/">storage</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/06/20/use-sg_ses/">use sg_ses</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##1.Introduction</p>
<p>The sg_ses utility enables a user &#x201C;to manage and sense the state of the power<br>supplies, cooling devices, displays, indicators, individual drives, and other<br>non-SCSI elements installed in an enclosure&#x201D;.<br>The SCSI Enclosure Services standards (most recent is SES-2 ANSI INCITS 448-2008<br>) and the latest draft (ses3r03.pdf at www.t10.org) describe the format that the<br>sg_ses utility expects to find in a SES device (&#x201C;logical unit&#x201D; or &#x201C;process&#x201D;)</p>
<p>##2.Command Tools</p>
<p>sg_map - displays mapping between linux sg and other SCSI devices </p>
<p>sg_ses - send controls and fetch status from a SCSI EnclosureServices (SES) device </p>
<p>sg  = SCSI Generic<br>ses = SCSI Enclosure Service</p>
<p>##3.Use command<br>query mapping of expander and device name</p>
<pre><code>[root@ ~]# sg_map
/dev/sg0  /dev/sda
/dev/sg1  /dev/sdb
/dev/sg2  /dev/sdc
/dev/sg3  /dev/sdd
/dev/sg4  /dev/sde
/dev/sg5  /dev/sdf
/dev/sg6  /dev/sdg
/dev/sg7
/dev/sg8  /dev/sdh
/dev/sg9  /dev/sdi
/dev/sg10  /dev/sdj
/dev/sg11  /dev/sdk
/dev/sg12  /dev/sdl
/dev/sg13  /dev/sdm
/dev/sg14

[root@ ~]# sg_map -i
/dev/sg0  /dev/sda  ATA       SanDisk SSD U100  10.5
/dev/sg1  /dev/sdb  ATA       Hitachi HUA72201  A3EA
/dev/sg2  /dev/sdc  ATA       Hitachi HUA72201  A39C
/dev/sg3  /dev/sdd  ATA       ST2000VX000-9YW1  CV13
/dev/sg4  /dev/sde  ATA       Hitachi HUA72201  A3EA
/dev/sg5  /dev/sdf  ATA       ST2000VX000-9YW1  CV13
/dev/sg6  /dev/sdg  ATA       ST2000VX000-9YW1  CV13
/dev/sg7  GOOXI     Bobcat            0d00
/dev/sg8  /dev/sdh  ATA       ST2000VX000-9YW1  CV13
/dev/sg9  /dev/sdi  ATA       ST2000VX000-9YW1  CV13
/dev/sg10  /dev/sdj  ATA       ST2000VX000-9YW1  CV13
/dev/sg11  /dev/sdk  ATA       ST2000VX000-9YW1  CV13
/dev/sg12  /dev/sdl  ATA       Hitachi HDE72101  A31B
/dev/sg13  /dev/sdm  ATA       Hitachi HDE72101  A3AA
/dev/sg14  GOOXI     Bobcat            0d00
</code></pre><p>There are two expanders, /dev/sg7 and /dev/sg14, to show the only expanders<br>list, use below command:</p>
<pre><code>[root@ ~]# sg_map | awk &apos;{if($2==&quot;&quot;){print $1}}&apos;
/dev/sg7
/dev/sg14
</code></pre><p>We also can use ls to find expanders:</p>
<pre><code>[root@ ~]# ls /dev/sg* -l
crw-rw---- 1 root disk 21,  0 Jun 18 22:54 /dev/sg0
crw-rw---- 1 root disk 21,  1 Jun 19 17:33 /dev/sg1
crw-rw---- 1 root disk 21, 15 Jun 19 23:33 /dev/sg15
crw-rw---- 1 root disk 21, 16 Jun 19 23:33 /dev/sg16
crw-rw---- 1 root disk 21, 17 Jun 19 23:33 /dev/sg17
crw-rw---- 1 root disk 21, 18 Jun 19 23:33 /dev/sg18
crw-rw---- 1 root disk 21,  2 Jun 18 22:55 /dev/sg2
crw-rw---- 1 root disk 21,  3 Jun 18 22:55 /dev/sg3
crw-rw---- 1 root disk 21,  4 Jun 19 17:33 /dev/sg4
crw-rw---- 1 root disk 21,  5 Jun 18 22:55 /dev/sg5
crw-rw---- 1 root disk 21,  6 Jun 20 17:49 /dev/sg6
crw-rw---- 1 root root 21,  7 Jun 18 22:55 /dev/sg7
crw-rw---- 1 root disk 21,  8 Jun 20 21:46 /dev/sg8
crw-rw---- 1 root disk 21,  9 Jun 20 21:46 /dev/sg9

[root@ ~]# ls /dev/sg* -l |awk &apos;{if($4==&quot;root&quot;){print $10}}&apos;
/dev/sg7
</code></pre><p>To view the pages of /dev/sg7</p>
<pre><code>[root@ ~]# sg_ses -p 0 /dev/sg7
  GOOXI     Bobcat            0d00
    enclosure services device
Supported diagnostic pages:
  Supported diagnostic pages [0x0]
  Configuration (SES) [0x1]
  Enclosure status/control (SES) [0x2]
  String In/Out (SES) [0x4]
  Threshold In/Out (SES) [0x5]
  Element descriptor (SES) [0x7]
  Additional element status (SES-2) [0xa]
  Supported SES diagnostic pages (SES-2) [0xd]
  Download microcode (SES-2) [0xe]
  Subenclosure nickname (SES-2) [0xf]
</code></pre><p>To view the enclosure status </p>
<pre><code>[root@ ~]# sg_ses -p 2 /dev/sg7
  GOOXI     Bobcat            0d00
    enclosure services device
Enclosure status diagnostic page:
  INVOP=0, INFO=1, NON-CRIT=0, CRIT=0, UNRECOV=0
  generation code: 0x0
  status descriptor list
    Element type: Array device slot, subenclosure id: 0
     Overall 0 descriptor:
       Predicted failure=0, Disabled=0, Swap=0, status: Unsupported
       OK=0, Reserved device=0, Hot spare=0, Cons check=0
       In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0
       App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0
       Ready to insert=0, RMV=0, Ident=0, Report=0
       App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0
       Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0
     Element 0 descriptor:
       Predicted failure=0, Disabled=0, Swap=0, status: Not installed
       OK=0, Reserved device=0, Hot spare=0, Cons check=0
       In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0
       App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0
       Ready to insert=0, RMV=0, Ident=0, Report=0
       App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0
       Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0
     Element 1 descriptor:
       Predicted failure=0, Disabled=0, Swap=0, status: OK
       OK=0, Reserved device=0, Hot spare=0, Cons check=0
       In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0
       App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0
       Ready to insert=0, RMV=0, Ident=0, Report=0
       App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0
       Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0

     ...

     Element 27 descriptor:
       Predicted failure=0, Disabled=0, Swap=0, status: Not installed
       OK=0, Reserved device=0, Hot spare=0, Cons check=0
       In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0
       App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0
       Ready to insert=0, RMV=0, Ident=0, Report=0
       App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0
       Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0
</code></pre><p>To view the enclosure status by specify index </p>
<pre><code>[root@ ~]# sg_ses -p 2 -I 27 /dev/sg7
  GOOXI     Bobcat            0d00
    enclosure services device
Enclosure status diagnostic page:
  INVOP=0, INFO=1, NON-CRIT=0, CRIT=0, UNRECOV=0
  generation code: 0x0
  status descriptor list
     Element 27 descriptor:
       Predicted failure=0, Disabled=0, Swap=0, status: Not installed
       OK=0, Reserved device=0, Hot spare=0, Cons check=0
       In crit array=0, In failed array=0, Rebuild/remap=0, R/R abort=0
       App client bypass A=0, Do not remove=0, Enc bypass A=0, Enc bypass B=0
       Ready to insert=0, RMV=0, Ident=0, Report=0
       App client bypass B=0, Fault sensed=0, Fault reqstd=0, Device off=0
       Bypassed A=0, Bypassed B=0, Dev bypassed A=0, Dev bypassed B=0
</code></pre><p>view enclosure Additional element status<br>From result info, we can map the slot num with element index, also SAS address</p>
<pre><code>[root@ ~]# sg_ses -p 0xa /dev/sg7
  GOOXI     Bobcat            0d00
    enclosure services device
Additional element status diagnostic page:
  generation code: 0x0
  additional element status descriptor list
      Element index: 0
        Transport protocol: SAS
        number of phys: 1, not all phys: 0, device slot number: 21
        phy index: 0
          device type: no device attached
          initiator port for:
          target port for:
          attached SAS address: 0x0000000000000000
          SAS address: 0x0000000000000000
          phy identifier: 0x0
      Element index: 1
        Transport protocol: SAS
        number of phys: 1, not all phys: 0, device slot number: 20
        phy index: 0
          device type: no device attached
          initiator port for:
          target port for: SATA_device
          attached SAS address: 0x500605b0000272bf
          SAS address: 0x500605b0000272a1
          phy identifier: 0x0

      ...

      Element index: 27
        Transport protocol: SAS
        number of phys: 1, not all phys: 0, device slot number: 22
        phy index: 0
          device type: no device attached
          initiator port for:
          target port for:
          attached SAS address: 0x0000000000000000
          SAS address: 0x0000000000000000
          phy identifier: 0x0

# Also, we can show the specify index additional element status 
[root@ ~]# sg_ses -p 0xa -I 26 /dev/sg7
  GOOXI     Bobcat            0d00
    enclosure services device
Additional element status diagnostic page:
  generation code: 0x0
  additional element status descriptor list
      Element index: 26
        Transport protocol: SAS
        number of phys: 1, not all phys: 0, device slot number: 23
        phy index: 0
          device type: no device attached
          initiator port for:
          target port for: SATA_device
          attached SAS address: 0x500605b0000272bf
          SAS address: 0x500605b0000272ba
          phy identifier: 0x0
</code></pre><p>This command get a simple output:</p>
<pre><code># command explain:
# grep -E &apos;Element|slot&apos;     search by an extended regular expression 
# sed &apos;N;s/\n//&apos;             join two lines together
# awk &apos;{print $3,$15}&apos;       printf third and 15th column

# out format: element_index slot_number 
[root@ ~]# sg_ses -p 0xa /dev/sg7 |grep -E &apos;slot|Element&apos; |sed &apos;N;s/\n//&apos; |awk &apos;{print $3,$15}&apos;
0 21
1 20
2 16
3 12
4 24
5 25
6 26
7 27
8 8
9 4
10 0
11 1
12 3
13 2
14 7
15 6
16 5
17 11
18 10
19 9
20 15
21 14
22 13
23 19
24 18
25 17
26 23
27 22

# out format: slot_number element_index
[root@ ~]# sg_ses -p 0xa /dev/sg7 |grep -E &apos;slot|Element&apos; |sed &apos;N;s/\n//&apos; |awk &apos;{print $15,$3}&apos; |sort -n
0 10
1 11
2 13
3 12
4 9
5 16
6 15
7 14
8 8
9 19
10 18
11 17
12 3
13 22
14 21
15 20
16 2
17 25
18 24
19 23
20 1
21 0
22 27
23 26
24 4
25 5
26 6
27 7
</code></pre><p>we can get the mapping relation between slot number and SAS address:</p>
<pre><code># 0x0000000000000000 means there is not exist physical disk
[root@ ~]# sg_ses -p 0xa /dev/sg7 |grep -E &apos;slot|  SAS address&apos; |sed &apos;N;s/\n//&apos; |awk &apos;{print $12,$15}&apos; |sort -n
0 0x50014ee300165dde
1 0x50014ee3556bb24a
2 0x50014ee30016698a
3 0x50014ee300166666
4 0x50014ee300165dea
5 0x50014ee3aac1019e
6 0x0000000000000000
7 0x0000000000000000
8 0x0000000000000000
9 0x0000000000000000
10 0x0000000000000000
11 0x0000000000000000
12 0x0000000000000000
13 0x0000000000000000
14 0x0000000000000000
15 0x0000000000000000
16 0x500605b0000272a2
17 0x500605b0000272b9
18 0x500605b0000272b8
19 0x500605b0000272b7
20 0x500605b0000272a1
21 0x0000000000000000
22 0x0000000000000000
23 0x500605b0000272ba
24 0x500148500018fba0
25 0x500148500018fba0
26 0x0000000000000000
27 0x500148500018fba0

[root@ ~]# sg_ses -p 0xa /dev/sg7 |grep -E &apos;slot|  SAS address&apos; |sed &apos;N;s/\n//&apos; |awk &apos;{print $12,$15}&apos; |sort -n |grep -v 0x0000000000000000
0 0x50014ee300165dde
1 0x50014ee3556bb24a
2 0x50014ee30016698a
3 0x50014ee300166666
4 0x50014ee300165dea
5 0x50014ee3aac1019e
16 0x500605b0000272a2
17 0x500605b0000272b9
18 0x500605b0000272b8
19 0x500605b0000272b7
20 0x500605b0000272a1
23 0x500605b0000272ba
24 0x500148500018fba0
25 0x500148500018fba0
27 0x500148500018fba0
</code></pre><p>##4.Control LED</p>
<p>Table 72 &#x2013; Array Device Slot control element<br>(Taken from <a href="http://sg.danny.cz/sg/sg_ses.html" target="_blank" rel="external">http://sg.danny.cz/sg/sg_ses.html</a>)</p>
<pre><code>+-Byte\Bit-+---7----+---6----+---5----+---4----+---3----+---2----+---1----+---0----+
+     0    +                           COMMON CONTROL                              +
+----------+--------+--------+--------+--------+--------+--------+--------+--------+
+          + RQST   + RQST   + RQST   + RQST   + RQST   +RQST IN +RQST    + RQST   +
+     1    + OK     + RSVD   + HOT    + CONS   + IN CRIT+FAILED  +REBUILD/+ R/R    +
+          +        + DEVICE + SPARE  + CHECK  + ARRAY  +ARRAY   +REMAP   + ABORT  +
+----------+--------+--------+--------+--------+--------+--------+--------+--------+
+     2    + RQST   + DO NOT +Reserved+ RQST   + RQST   + RQST   + RQST   +Reserved+
+          + ACTIVE + REMOVE +        +MISSING + INSERT + REMOVE + IDENT  +        +
+----------+--------+--------+--------+--------+--------+--------+--------+--------+
+     3    +     Reserved    + RQST   + DEVICE + ENABLE + ENABLE +     Reserved    +
+          +                 + FAULT  +  OFF   + BYP A  + BYP B  +                 +
+----------+--------+--------+--------+--------+--------+--------+--------+--------+
</code></pre><p>Insert harddisk, Blue LED light on, it is controlled by hardware.</p>
<p>Read/write harddisk, Blue LED flash, it is controlled by hardware also.</p>
<pre><code>--index   : Element index (not slot index)
--set     : set   a status of specify element
--clear   : clear a status of specify element
/dev/sg5  : expander position (There is problem, how to position which disk
            belong to which expander?)

##raid failed: (Blue LED light on, green LED flash)
sg_ses --index=27 --set=1:2:1 /dev/sg5

##rebuild: (Red LED flash)
sg_ses --index=27 --set=1:1:1 /dev/sg5

##miss:
sg_ses --index=27 --set=2:4:1 /dev/sg5

##indent: (Blue and Green LED flash)
sg_ses --index=27 --set=2:1:1 /dev/sg5

##disk fault: (Red LED light on)
sg_ses --index=27 --set=fault  /dev/sg5
or
sg_ses --index=27 --set=3:5:1  /dev/sg5

all the upon command can use --clear option to clean status.

The latter three invocations use a numerical description of the field whose 
format is &lt;start_byte&gt;:&lt;start_bit&gt;[:&lt;number_of_bits&gt;] . 
The &lt;number_of_bits&gt; defaults to 1 when it is not given.(try to understand 
it with table 72)

#clear status
sg_ses --index 27 --clear=1:1 /dev/sg5
sg_ses --index 27 --clear=1:2 /dev/sg5
sg_ses --index 27 --clear=3:5 /dev/sg5
</code></pre><p>Some problems:  </p>
<ul>
<li>How can I know what color the LED would be when the command done?</li>
<li>Is there exist one command that can clear all status? (I do not want to use the<br>clear command again and again, it is too ugly. or it is not need to do these?)</li>
</ul>
<p>##5.Other command tools</p>
<p>&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x4FE1;&#x606F;&#x7684;&#x547D;&#x4EE4;&#x5DE5;&#x5177;:</p>
<pre><code>&#x78C1;&#x76D8;&#x6240;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F;

&#x786C;&#x4EF6;&#x4FE1;&#x606F;:&#x578B;&#x53F7;&#x3001;&#x7269;&#x7406;&#x7C7B;&#x578B;&#x3001;&#x5E8F;&#x5217;&#x53F7;&#x3001;&#x6E29;&#x5EA6;&#x3001;&#x8F6C;&#x901F;&#x3001;&#x5DE5;&#x4F5C;&#x901F;&#x7387;&#x3001;&#x78C1;&#x76D8;LU&#x3001;
         &#x78C1;&#x76D8;&#x7AEF;&#x53E3;SAS&#x5730;&#x5740;&#x3001;&#x5382;&#x5546;&#x3001;&#x56FA;&#x4EF6;&#x3001;LED&#x706F;&#x72B6;&#x6001;&#x7B49;
&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;:Enclosure&#x3001;slot
&#x903B;&#x8F91;&#x4FE1;&#x606F;:&#x8FD0;&#x884C;&#x72B6;&#x6001;(&#x5728;&#x7EBF;&#x3001;&#x7A7A;&#x95F2;&#x70ED;&#x5907;&#x76D8;&#x3001;&#x91CD;&#x6784;&#x76D8;)&#x3001;&#x903B;&#x8F91;&#x7C7B;&#x578B;(&#x6210;&#x5458;&#x76D8;&#x3001;&#x7A7A;&#x95F2;&#x70ED;&#x5907;&#x76D8;&#x3001;
         &#x7A7A;&#x95F2;&#x76D8;)&#x3001;&#x6240;&#x5C5E;RAID&#x7EC4;&#x3001;&#x6240;&#x5C5E;&#x5377;&#x7EC4;
SMART&#x4FE1;&#x606F;


#sg_map
&#x663E;&#x793A;sg&#x8BBE;&#x5907;&#x548C;sd&#x8BBE;&#x5907;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;

#sginfo &#x2013;l
&#x83B7;&#x53D6;sg&#x8BBE;&#x5907;&#x7684;&#x4FE1;&#x606F;

#sg_ses &#x2013;p 0xa /dev/sg18
&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x69FD;&#x4F4D;&#x53F7;&#x3001;&#x78C1;&#x76D8;&#x7AEF;&#x53E3;SAS&#x5730;&#x5740;

#ll  /dev/disk/by-path
&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7AEF;&#x53E3;SAS&#x5730;&#x5740;&#x3001;&#x78C1;&#x76D8;&#x76D8;&#x7B26;

#sg_inq  -p  0x83  /dev/sdq
&#x78C1;&#x76D8;LU&#x3001;&#x78C1;&#x76D8;&#x7AEF;&#x53E3;SAS&#x5730;&#x5740;

#udevinfo &#x2013;a &#x2013;p /block/sdq
&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;&#x4FE1;&#x606F;

#udevinfo &#x2013;q all &#x2013;n /dev/sdq
&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;

#scsi_id  -x &#x2013;g &#x2013;s /block/sdq 
&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;

#smartctl  -H /dev/sdb
&#x67E5;&#x770B;&#x78C1;&#x76D8;&#x5065;&#x5EB7;&#x72B6;&#x6001;

#smartctl -a  /dev/sdb
#smartctl -A /dev/sdb
&#x67E5;&#x770B;&#x78C1;&#x76D8;SMART&#x4FE1;&#x606F;&#x548C;&#x6E29;&#x5EA6;

#smartctl -x  /dev/sdb
&#x663E;&#x793A;&#x78C1;&#x76D8;&#x6240;&#x6709;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;SAS&#x5730;&#x5740;&#x7B49;
</code></pre><p>output status in raw format:</p>
<pre><code>[root@ ~]# sg_ses -p 0x2 /dev/sg7 -r
    00 00 00 00 00 00 00 00  05 04 00 00 01 04 00 00
    01 01 00 00 05 00 00 00  05 00 00 00 05 00 00 00
    05 00 00 00 05 00 00 00  05 00 00 00 05 00 00 00
    01 00 00 00 01 00 00 00  01 00 00 00 01 00 00 00
    05 00 00 00 05 00 00 00  05 00 00 00 05 00 00 00
    05 00 00 00 05 00 00 00  05 00 00 00 05 00 00 00
    05 00 00 00 11 00 00 00  11 00 00 00 11 00 00 00
    01 00 00 00 05 00 00 00

byte 1 to 8 is general description, element description if start from 8th byte.

From ses3r05.pdf Table 63 -- Element status code field (Page 70)
01    0k            Element is installed and no error conditions are known.
05    Not Installed Element is not installed in enclosure.
09~0F Reserved

So, the first 4 bytes start from 8th byte is 05 04 00 00, means not disk installed 
and its status is &quot;IN FAILED ARRAY&quot;.(See ses3r05.pdf page 77 Table 73)

The second 4 bytes is 01 04 00 00, means that disk is ok and status is &quot;IN FAILED ARRAY&quot;.

The third 4 bytes is 01 01 00 00, means that disk ok and &quot;R/R ABORT&quot;.

The 20th 4bytes is 11 00 00 00, means disk ok. 

Notice that the frist byte 11 is equal to 01, look at Table 63, we can see 
that element status code only depends on low 4 bits (0~3th bits for ELEMENT 
STATUS CODE, 4th bit is SWAP, 5th is DISABLED, 6th is PRDFAIL, 7th is Reserved)
</code></pre><p>look ses3r05.pdf for more details:</p>
<pre><code>Table 12 &#x2014; Enclosure Status diagnostic page -- Page 30
Table 13 &#x2014; Status descriptor                -- Page 32
Table 62 &#x2014; Status element format            -- Page 70
Table 63 &#x2014; ELEMENT STATUS CODE field        -- Page 70
Table 72 &#x2014; Array Device Slot control element-- Page 76
Table 73 &#x2014; Array Device Slot status element -- Page 77
</code></pre><p>##7.Reference</p>
<ul>
<li><a href="http://linux.die.net/man/8/sg_map" target="_blank" rel="external">man sg_map</a></li>
<li><a href="http://sg.danny.cz/sg/sg_ses.html" target="_blank" rel="external">_<strong>The sg_ses utility</strong>_</a></li>
<li><a href="http://rpm.pbone.net/index.php3/stat/45/idpl/9494420/numer/8/nazwa/sg_ses" target="_blank" rel="external">man sg_ses howto</a></li>
<li><a href="http://sg.danny.cz/sg/sg3_utils.html" target="_blank" rel="external">The Linux sg3_utils package</a></li>
<li><a href="http://sg.danny.cz/sg/" target="_blank" rel="external">The Linux SCSI Generic (sg) Driver</a></li>
<li><a href="https://github.com/zhurongze/notes/blob/master/hardware/&#x4F7F;&#x7528;SES&#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#x78C1;&#x76D8;&#x5B9A;&#x4F4D;.md" target="_blank" rel="external"><em><strong>&#x4F7F;&#x7528;SES&#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#x78C1;&#x76D8;&#x5B9A;&#x4F4D;</strong></em></a></li>
<li><a href="http://way4ever.com/?p=324" target="_blank" rel="external">&#x78C1;&#x76D8;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x6240;&#x9700;&#x8981;&#x7684;&#x6280;&#x672F;</a></li>
<li><a href="http://www.t10.org/" target="_blank" rel="external">T10 technical Committee</a></li>
<li><a href="http://www.t10.org/cgi-bin/ac.pl?t=f&amp;f=ses3r05.pdf" target="_blank" rel="external">SCSI Enclosure Services - 3 (SES-3) ses3r05.pdf</a></li>
<li><a href="https://github.com/bvanassche/sg3_utils/blob/master/src/sg_ses.c" target="_blank" rel="external">sg_ses github source</a></li>
<li><a href="http://pic.dhe.ibm.com/infocenter/powersys/v3r1m5/index.jsp?topic=/p7eal/diskdriveenclosureleds.htm" target="_blank" rel="external">7031-D24 or 7031-T24 disk-drive enclosure LEDs</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/06/20/use-sg_ses/" data-id="cineh9otz006toxizr32q8hz7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/storage/">storage</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iscsi-and-implementation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/06/07/iscsi-and-implementation/" class="article-date">
  <time datetime="2013-06-06T16:00:00.000Z" itemprop="datePublished">2013-06-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/storage/">storage</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/06/07/iscsi-and-implementation/">iSCSI and implementation</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h3><p>iSCSI&#xFF08;&#x53D1;&#x97F3;&#x4E3A; /&#x430;&#x26A;sk&#x28C;zi/&#xFF09;&#xFF08;iSCSI = internet Small Computer System Interface &#xFF09;<br>&#x53C8;&#x7A31;&#x70BA;IP-SAN&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;&#x56E0;&#x7279;&#x7F51;&#x53CA;SCSI-3&#x534F;&#x8BAE;&#x4E0B;&#x7684;&#x5B58;&#x50A8;&#x6280;&#x672F;&#xFF0C;<br>&#x7531;IETF&#x63D0;&#x51FA;&#xFF0C;&#x4E26;&#x65BC;2003&#x5E74;2&#x6708;11&#x65E5;&#x6210;&#x70BA;&#x6B63;&#x5F0F;&#x7684;&#x6A19;&#x6E96;&#x3002;<br>&#x4E0E;&#x4F20;&#x7EDF;&#x7684;SCSI&#x6280;&#x672F;&#x6BD4;&#x8F83;&#x8D77;&#x6765;&#xFF0C;iSCSI&#x6280;&#x672F;&#x6709;&#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x9769;&#x547D;&#x6027;&#x7684;&#x53D8;&#x5316;&#xFF1A;</p>
<pre><code>1. &#x628A;&#x539F;&#x4F86;&#x53EA;&#x7528;&#x65BC;&#x672C;&#x6A5F;&#x7684;SCSI&#x5354;&#x540C;&#x900F;&#x904E;TCP/IP&#x7F51;&#x7EDC;&#x50B3;&#x9001;&#xFF0C;&#x4F7F;&#x8FDE;&#x63A5;&#x8DDD;&#x79BB;&#x53EF;&#x4F5C;&#x65E0;&#x9650;&#x7684;&#x5730;&#x57DF;&#x5EF6;&#x4F38;
2. &#x8FDE;&#x63A5;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6570;&#x91CF;&#x65E0;&#x9650;&#xFF08;&#x539F;&#x4F86;&#x7684;SCSI-3&#x7684;&#x4E0A;&#x9650;&#x662F;15&#xFF09;
3. &#x7531;&#x4E8E;&#x662F;&#x670D;&#x52A1;&#x5668;&#x67B6;&#x6784;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5728;&#x7EBF;&#x6269;&#x5BB9;&#x4EE5;&#x81F3;&#x52A8;&#x6001;&#x90E8;&#x7F72;
</code></pre><p>iSCSI&#x5229;&#x7528;&#x4E86;TCP/IP&#x7684;port 860 &#x548C; 3260 &#x4F5C;&#x4E3A;&#x6C9F;&#x901A;&#x7684;&#x6E20;&#x9053;&#x3002;&#x900F;&#x8FC7;&#x4E24;&#x90E8;&#x8BA1;&#x7B97;&#x673A;&#x4E4B;&#x95F4;&#x5229;&#x7528;iSCSI<br>&#x7684;&#x534F;&#x8BAE;&#x6765;&#x4EA4;&#x6362;SCSI&#x547D;&#x4EE4;&#xFF0C;&#x8BA9;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x4EE5;&#x900F;&#x8FC7;&#x9AD8;&#x901F;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x96C6;&#x7EBF;&#x6765;&#x628A;SAN&#x6A21;&#x62DF;&#x6210;&#x4E3A;&#x672C;&#x5730;&#x7684;&#x50A8;&#x5B58;&#x88C5;&#x7F6E;&#x3002;</p>
<p>The overall structure of an iSCSI  PDU is as follows:</p>
<pre><code>Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0/ Basic Header Segment (BHS)                                    /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
48/ Additional Header Segment 1 (AHS)  (optional)                 /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
  / Additional Header Segment 2 (AHS)  (optional)                 /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 ----
  +---------------+---------------+---------------+---------------+
  / Additional Header Segment n (AHS)  (optional)                 /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 ----
  +---------------+---------------+---------------+---------------+
 k/ Header-Digest (optional)                                      /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 l/ Data Segment(optional)                                        /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 m/ Data-Digest (optional)                                        /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
</code></pre><p>The format of the BHS(fixed size, 48 bytes ) is:</p>
<pre><code>Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|.|I| Opcode    |F|  Opcode-specific fields                     |
  +---------------+---------------+---------------+---------------+
 4|TotalAHSLength | DataSegmentLength                             |
  +---------------+---------------+---------------+---------------+
 8| LUN or Opcode-specific fields                                 |
  +                                                               +
12|                                                               |
  +---------------+---------------+---------------+---------------+
16| Initiator Task Tag                                            |
  +---------------+---------------+---------------+---------------+
20/ Opcode-specific fields                                        /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
48
</code></pre><p>For request PDUs, the I bit set to 1 is an immediate delivery marker.</p>
<p>Initiator opcodes defined in this specification are:</p>
<pre><code>0x00 NOP-Out
0x01 SCSI Command (encapsulates a SCSI Command Descriptor Block)
0x02 SCSI Task Management function request
0x03 Login Request
0x04 Text Request
0x05 SCSI Data-Out (for WRITE operations)
0x06 Logout Request
0x10 SNACK Request
0x1c-0x1e Vendor specific codes
</code></pre><p>Target opcodes are:</p>
<pre><code>0x20 NOP-In
0x21 SCSI Response - contains SCSI status and possibly sense
     information or other response information.
0x22 SCSI Task Management function response
0x23 Login Response
0x24 Text Response
0x25 SCSI Data-In - for READ operations.
0x26 Logout Response
0x31 Ready To Transfer (R2T) - sent by target when it is ready
     to receive data.
0x32 Asynchronous Message - sent by target to indicate certain
     special conditions.
0x3c-0x3e Vendor specific codes
0x3f Reject
</code></pre><p>When set to 1 it indicates the final (or only) PDU of a sequence.</p>
<p>Some opcodes operate on a specific Logical Unit.  The Logical Unit<br>Number (LUN) field identifies which Logical Unit.  If the opcode does<br>not relate to a Logical Unit, this field is either ignored or may be<br>used in an opcode specific way.  The LUN field is 64-bits and should<br>be formatted in accordance with [SAM2].  For example, LUN[0] from<br>[SAM2] is BHS byte 8 and so on up to LUN[7] from [SAM2], which is BHS<br>byte 15.</p>
<p>The general format of an AHS is:</p>
<pre><code>Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0| AHSLength                     | AHSType       | AHS-Specific  |
  +---------------+---------------+---------------+---------------+
 4/ AHS-Specific                                                  /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 x
</code></pre><p>The format of the SCSI Command PDU is:</p>
<pre><code>Byte/     0       |       1       |       2       |       3       |
   /              |               |               |               |
  |0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|0 1 2 3 4 5 6 7|
  +---------------+---------------+---------------+---------------+
 0|.|I| 0x01      |F|R|W|. .|ATTR | Reserved                      |
  +---------------+---------------+---------------+---------------+
 4|TotalAHSLength | DataSegmentLength                             |
  +---------------+---------------+---------------+---------------+
 8| Logical Unit Number (LUN)                                     |
  +                                                               +
12|                                                               |
  +---------------+---------------+---------------+---------------+
16| Initiator Task Tag                                            |
  +---------------+---------------+---------------+---------------+
20| Expected Data Transfer Length                                 |
  +---------------+---------------+---------------+---------------+
24| CmdSN                                                         |
  +---------------+---------------+---------------+---------------+
28| ExpStatSN                                                     |
  +---------------+---------------+---------------+---------------+
32/ SCSI Command Descriptor Block (CDB)                           /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
48/ AHS (Optional)                                                /
  +---------------+---------------+---------------+---------------+
 x/ Header Digest (Optional)                                      /
  +---------------+---------------+---------------+---------------+
 y/ (DataSegment, Command Data) (Optional)                        /
 +/                                                               /
  +---------------+---------------+---------------+---------------+
 z/ Data Digest (Optional)                                        /
  +---------------+---------------+---------------+---------------+
</code></pre><h3 id="reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><ul>
<li><a href="http://en.wikipedia.org/wiki/ISCSI" target="_blank" rel="external">iSCSI</a></li>
<li><a href="http://www.ietf.org/rfc/rfc3720.txt" target="_blank" rel="external">RFC 3720 TEXT format</a></li>
<li><a href="http://tools.ietf.org/html/rfc3720" target="_blank" rel="external">RFC 3720 HTML format</a></li>
<li><a href="http://www.sansky.net/article/2007-12-03-iscsi-storage.html" target="_blank" rel="external">iSCSI&#x5B58;&#x50A8;&#x6280;&#x672F;&#x5168;&#x653B;&#x7565;</a></li>
<li><a href="http://sourceforge.net/projects/iscsitarget/" target="_blank" rel="external">iscsitarget</a></li>
<li><a href="http://sourceforge.net/projects/pytarget/" target="_blank" rel="external">pyTarget</a></li>
<li><a href="http://jscsi.sourceforge.net/" target="_blank" rel="external">jSCSI is a cross-platform Java implementation of an iSCSI initiator</a></li>
<li><a href="https://github.com/disy/jSCSI" target="_blank" rel="external">jSCSI on github</a></li>
<li><a href="http://stgt.sourceforge.net/" target="_blank" rel="external">TGT</a></li>
<li><a href="http://slimphpiscsipan.sourceforge.net" target="_blank" rel="external">Slim PHP iSCSI Panel for Centos</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/06/07/iscsi-and-implementation/" data-id="cineh9oty006ooxiz461dyvve" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iscsi/">iscsi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/storage/">storage</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux-kernel-linked-list-explained" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/05/28/linux-kernel-linked-list-explained/" class="article-date">
  <time datetime="2013-05-27T16:00:00.000Z" itemprop="datePublished">2013-05-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/05/28/linux-kernel-linked-list-explained/">Linux Kernel Linked List Explained</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Using the list:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &quot;list.h&quot;

struct kool_list{
    int to;
    struct list_head list;
    int from;
    };

int main(int argc, char **argv){
    struct kool_list *tmp;
    struct list_head *pos, *q;
    unsigned int i;

    struct kool_list mylist;
    INIT_LIST_HEAD(&amp;mylist.list);

    for(i=5; i!=0; --i){
        tmp=(struct kool_list*)malloc(sizeof(struct kool_list));
        printf(&quot;enter to and from:&quot;);
        scanf(&quot;%d %d&quot;, &amp;tmp-&gt;to, &amp;tmp-&gt;from);
        list_add(&amp;(tmp-&gt;list), &amp;(mylist.list));
    }
    printf(&quot;\n&quot;);

    printf(&quot;traversing the list using list_for_each_entry()\n&quot;);
    list_for_each_entry(tmp, &amp;mylist.list, list)
        printf(&quot;to=%d from=%d\n&quot;, tmp-&gt;to, tmp-&gt;from);
    printf(&quot;\n&quot;);

    printf(&quot;deleting the list using list_for_each_safe()\n&quot;);
    list_for_each_safe(pos, q, &amp;mylist.list){
        tmp=list_entry(pos, struct kool_list, list);
        printf(&quot;freeing item to=%d from=%d\n&quot;, tmp-&gt;to, tmp-&gt;from);
        list_del(pos);
        free(tmp);
    }

    return 0;
}
</code></pre><p>Testing, as below:</p>
<pre><code>[dennis@localhost test]$ ./main
enter to and from:19 9
enter to and from:18 8
enter to and from:17 7
enter to and from:16 6
enter to and from:15 5

traversing the list using list_for_each_entry()
to=15 from=5
to=16 from=6
to=17 from=7
to=18 from=8
to=19 from=9

deleting the list using list_for_each_safe()
freeing item to=15 from=5
freeing item to=16 from=6
freeing item to=17 from=7
freeing item to=18 from=8
freeing item to=19 from=9
[dennis@localhost test]$
</code></pre><p>How it work? go to the reference website for detail.</p>
<p>Reference:</p>
<ul>
<li><a href="http://isis.poly.edu/kulesh/stuff/src/klist/" target="_blank" rel="external">Linux Kernel Linked List Explained</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/05/28/linux-kernel-linked-list-explained/" data-id="cineh9otw006loxizmbf30dmk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kernel/">kernel</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-c-thread-pool" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/05/28/c-thread-pool/" class="article-date">
  <time datetime="2013-05-27T16:00:00.000Z" itemprop="datePublished">2013-05-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/language/">language</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/05/28/c-thread-pool/">c thread pool</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>reference:  </p>
<ul>
<li><a href="https://github.com/mbrossard/threadpool" target="_blank" rel="external">threadpool</a></li>
<li><a href="https://github.com/Pithikos/C-Thread-Pool" target="_blank" rel="external">C Thread Pool</a></li>
<li><a href="http://bbs.chinaunix.net/thread-580210-1-1.html" target="_blank" rel="external">c threadpool</a></li>
<li><a href="http://blog.csdn.net/zouxinfox/article/details/3560891" target="_blank" rel="external">&#x4E00;&#x4E2A;Linux&#x4E0B;C&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5B9E;&#x73B0;</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/05/28/c-thread-pool/" data-id="cineh9otr006ioxizqn3f8zto" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/">c</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-skill-of-c" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/05/21/skill-of-c/" class="article-date">
  <time datetime="2013-05-20T16:00:00.000Z" itemprop="datePublished">2013-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/language/">language</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/05/21/skill-of-c/">The Art of C Programming</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##1. Principle </p>
<ul>
<li><strong>Array is NOT point</strong></li>
<li><strong>Avoid using unsafe api</strong></li>
<li><strong>Deeply understand point</strong></li>
</ul>
<p>##2. math</p>
<h3 id="21-mod"><a href="#2-1-mod" class="headerlink" title="2.1 mod"></a>2.1 mod</h3><pre><code>if n%2k=x, then x=n&amp;(2k-1)
</code></pre><h3 id="22-even-odd-check"><a href="#2-2-even-odd-check" class="headerlink" title="2.2 even odd check"></a>2.2 even odd check</h3><p>if the lowest bit of binary mode is 0, even number, otherwise odd.</p>
<h3 id="23-multi"><a href="#2-3-multi" class="headerlink" title="2.3 multi"></a>2.3 multi</h3><pre><code>a*5 = a&lt;&lt;2+a
</code></pre><p>##3.structure</p>
<h3 id="31-size"><a href="#3-1-size" class="headerlink" title="3.1 size"></a>3.1 size</h3><pre><code>int arr[] = {1, 5, 3, 18, 107, 21, 88};

size of arr is sizeof(arr)/sizeof(arr[0])

struct _test_ {
    int a;
    double b;
    char c;
}

size of _test_ is sizeof(_test_)
</code></pre><p>##4. Puzzle</p>
<h3 id="41-print-the-numbers-between-1-and-1000"><a href="#4-1-Print-the-numbers-between-1-and-1000" class="headerlink" title="4.1 Print the numbers between 1 and 1000."></a>4.1 Print the numbers between 1 and 1000.</h3><ul>
<li>Add a rule: Don&#x2019;t use any loops.</li>
<li>Add another rule: No recursions.</li>
<li>We can&#x2019;t do that? OK. Please look at this one.</li>
</ul>
<pre>
#include &quot;stdio.h&quot;
#define A(x) x;x;x;x;x;x;x;x;x;x;
int main (void){
  int n = 1;
  A(A(A(printf (&quot;%d &quot;, n++))));
  return 0;
}
</pre>

<h3 id="42-swap-two-variables"><a href="#4-2-swap-two-variables" class="headerlink" title="4.2 swap two variables"></a>4.2 swap two variables</h3><pre><code>a = a^b;
b = a^b;
a = a^b;
</code></pre><p>##5. What we need to avoid using?</p>
<ul>
<li>gets &#x2013;&gt; fgets</li>
<li>scanf &#x2013;&gt; scanf_s sscanf</li>
<li>sprintf &#x2013;&gt; snprintf sprintf_s</li>
<li>strcpy &#x2013;&gt; strlcpy</li>
<li>strcat &#x2013;&gt; strlcat</li>
<li>strtok &#x2013;&gt; strtok_r</li>
</ul>
<p>##6. v[index] and index[v] are the same</p>
<p>##7. use _Generic macro</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

void printchar(char X) { printf(&quot;char: %c\n&quot;, X); }
void printint(int X) { printf(&quot;int: %d\n&quot;, X); }
void printfloat(float X) { printf(&quot;float: %f\n&quot;, X); }
void printdouble(double X) { printf(&quot;double: %lf\n&quot;, X); }
#define print(X) _Generic((X), \
                               char: printchar, \
                               int: printint, \
                               float: printfloat, \
                               double: printdouble)(X)

int main()
{
    print(1);
    print(1.2);
    print((char)&apos;a&apos;);
    return 0;
}
</code></pre><p>GCC version don&#x2019;t support _Generic macro currently, but clang work.<br>Compile this code with clang as <code>clang test.c</code></p>
<p>##8. Reference  </p>
<ul>
<li><a href="https://www.kernel.org/" target="_blank" rel="external">Linux kernel source</a></li>
<li><a href="http://wangcong.org/down/taoc.ppt" target="_blank" rel="external">The Art of C Programming</a></li>
<li><a href="http://sathyamvellal.in/blog/cool-c-programming/?d=5" target="_blank" rel="external">cool c programming</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://matrix207.github.com/2013/05/21/skill-of-c/" data-id="cineh9otq006foxiz2i1a255u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/">c</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/11/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/13/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/english/">english</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/">kernel</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/language/">language</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/math/">math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/network/">network</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/others/">others</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/person/">person</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/program/">program</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/source/">source</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/storage/">storage</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/FAQ/" style="font-size: 10px;">FAQ</a> <a href="/tags/IRC/" style="font-size: 10px;">IRC</a> <a href="/tags/Translation/" style="font-size: 13px;">Translation</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/assembly/" style="font-size: 10px;">assembly</a> <a href="/tags/awk/" style="font-size: 11px;">awk</a> <a href="/tags/batch/" style="font-size: 14px;">batch</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/c/" style="font-size: 15px;">c</a> <a href="/tags/c/" style="font-size: 19px;">c++</a> <a href="/tags/cache/" style="font-size: 10px;">cache</a> <a href="/tags/crash/" style="font-size: 10px;">crash</a> <a href="/tags/database/" style="font-size: 17px;">database</a> <a href="/tags/debug/" style="font-size: 12px;">debug</a> <a href="/tags/dot/" style="font-size: 10px;">dot</a> <a href="/tags/driver/" style="font-size: 10px;">driver</a> <a href="/tags/emacs/" style="font-size: 11px;">emacs</a> <a href="/tags/exploit/" style="font-size: 10px;">exploit</a> <a href="/tags/file-system/" style="font-size: 10px;">file system</a> <a href="/tags/filesystem/" style="font-size: 12px;">filesystem</a> <a href="/tags/flowchart/" style="font-size: 10px;">flowchart</a> <a href="/tags/gcc/" style="font-size: 10px;">gcc</a> <a href="/tags/git/" style="font-size: 12px;">git</a> <a href="/tags/google/" style="font-size: 11px;">google</a> <a href="/tags/graphviz/" style="font-size: 11px;">graphviz</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/tags/iscsi/" style="font-size: 14px;">iscsi</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/job/" style="font-size: 10px;">job</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/kernel/" style="font-size: 14px;">kernel</a> <a href="/tags/linux/" style="font-size: 14px;">linux</a> <a href="/tags/lisp/" style="font-size: 10px;">lisp</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/makefile/" style="font-size: 10px;">makefile</a> <a href="/tags/malloc/" style="font-size: 10px;">malloc</a> <a href="/tags/math/" style="font-size: 11px;">math</a> <a href="/tags/maxima/" style="font-size: 10px;">maxima</a> <a href="/tags/memory/" style="font-size: 11px;">memory</a> <a href="/tags/memory-overflow/" style="font-size: 10px;">memory overflow</a> <a href="/tags/mtrace/" style="font-size: 10px;">mtrace</a> <a href="/tags/netdisk/" style="font-size: 10px;">netdisk</a> <a href="/tags/network/" style="font-size: 20px;">network</a> <a href="/tags/others/" style="font-size: 18px;">others</a> <a href="/tags/pandoc/" style="font-size: 10px;">pandoc</a> <a href="/tags/performance/" style="font-size: 16px;">performance</a> <a href="/tags/person/" style="font-size: 11px;">person</a> <a href="/tags/protobuf/" style="font-size: 11px;">protobuf</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/sed/" style="font-size: 11px;">sed</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/skype/" style="font-size: 11px;">skype</a> <a href="/tags/sms/" style="font-size: 10px;">sms</a> <a href="/tags/source/" style="font-size: 11px;">source</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/stack/" style="font-size: 10px;">stack</a> <a href="/tags/storage/" style="font-size: 15px;">storage</a> <a href="/tags/study/" style="font-size: 10px;">study</a> <a href="/tags/svn/" style="font-size: 11px;">svn</a> <a href="/tags/sync/" style="font-size: 10px;">sync</a> <a href="/tags/test/" style="font-size: 11px;">test</a> <a href="/tags/time/" style="font-size: 10px;">time</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/valgrind/" style="font-size: 10px;">valgrind</a> <a href="/tags/vi/" style="font-size: 10px;">vi</a> <a href="/tags/vim/" style="font-size: 14px;">vim</a> <a href="/tags/virtual/" style="font-size: 11px;">virtual</a> <a href="/tags/wget/" style="font-size: 10px;">wget</a> <a href="/tags/windows/" style="font-size: 11px;">windows</a> <a href="/tags/wireshark/" style="font-size: 10px;">wireshark</a> <a href="/tags/write/" style="font-size: 13px;">write</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/04/24/understand-gcc-assembly-output/">understand gcc assembly output</a>
          </li>
        
          <li>
            <a href="/2016/04/24/speed-up-cplusplus-compilation/">speed up c++ compilation</a>
          </li>
        
          <li>
            <a href="/2016/04/18/hexo/">Hexo</a>
          </li>
        
          <li>
            <a href="/2016/04/13/malloc/">malloc</a>
          </li>
        
          <li>
            <a href="/2016/03/12/performance-optimization-of-cplusplus/">performance optimization of C++</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Matrix207<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>